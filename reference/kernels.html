<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Kernel-generating functions — isKernel • mmand</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Kernel-generating functions — isKernel" />
<meta property="og:description" content="These functions can be used to generate kernels for morphological, smoothing
or resampling operations. There are two types of kernels: kernel arrays,
which are used with morph, and kernel functions, which are
used with resample." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mmand</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jonclayden/mmand/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Kernel-generating functions</h1>
    <small class="dont-index">Source: <a href='https://github.com/jonclayden/mmand/blob/master/R/kernels.R'><code>R/kernels.R</code></a></small>
    <div class="hidden name"><code>kernels.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions can be used to generate kernels for morphological, smoothing
or resampling operations. There are two types of kernels: kernel arrays,
which are used with <code><a href='morph.html'>morph</a></code>, and kernel functions, which are
used with <code><a href='resample.html'>resample</a></code>.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>isKernel</span><span class='op'>(</span><span class='va'>object</span><span class='op'>)</span>

<span class='fu'>isKernelArray</span><span class='op'>(</span><span class='va'>object</span><span class='op'>)</span>

<span class='fu'>isKernelFunction</span><span class='op'>(</span><span class='va'>object</span><span class='op'>)</span>

<span class='fu'>kernelArray</span><span class='op'>(</span><span class='va'>values</span><span class='op'>)</span>

<span class='fu'>shapeKernel</span><span class='op'>(</span><span class='va'>width</span>, dim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>width</span><span class='op'>)</span>, type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"box"</span>, <span class='st'>"disc"</span>, <span class='st'>"diamond"</span><span class='op'>)</span>,
  binary <span class='op'>=</span> <span class='cn'>TRUE</span>, normalised <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='fu'>gaussianKernel</span><span class='op'>(</span><span class='va'>sigma</span>, dim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>sigma</span><span class='op'>)</span>, size <span class='op'>=</span> <span class='fl'>6</span> <span class='op'>*</span> <span class='va'>sigma</span>, normalised <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>sobelKernel</span><span class='op'>(</span><span class='va'>dim</span>, axis <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='fu'>kernelFunction</span><span class='op'>(</span>name <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"box"</span>, <span class='st'>"triangle"</span>, <span class='st'>"mitchell-netravali"</span>, <span class='st'>"lanczos"</span><span class='op'>)</span>,
  <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>boxKernel</span><span class='op'>(</span><span class='op'>)</span>

<span class='fu'>triangleKernel</span><span class='op'>(</span><span class='op'>)</span>

<span class='fu'>mitchellNetravaliKernel</span><span class='op'>(</span>B <span class='op'>=</span> <span class='fl'>1</span><span class='op'>/</span><span class='fl'>3</span>, C <span class='op'>=</span> <span class='fl'>1</span><span class='op'>/</span><span class='fl'>3</span><span class='op'>)</span>

<span class='fu'>mnKernel</span><span class='op'>(</span>B <span class='op'>=</span> <span class='fl'>1</span><span class='op'>/</span><span class='fl'>3</span>, C <span class='op'>=</span> <span class='fl'>1</span><span class='op'>/</span><span class='fl'>3</span><span class='op'>)</span>

<span class='fu'>lanczosKernel</span><span class='op'>(</span><span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>Any object.</p></td>
    </tr>
    <tr>
      <th>values</th>
      <td><p>A numeric vector or array, containing the values of the kernel
array.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>A numeric vector giving the width of the shape in each
dimension, in array elements. Does not need to be integer-valued, or equal
for all dimensions. Will be recycled to length <code>dim</code> if that
parameter is also specified.</p></td>
    </tr>
    <tr>
      <th>dim</th>
      <td><p>An integer value giving the dimensionality of the kernel.
Defaults to the length of <code>width</code> or <code>sigma</code>, where available.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>A string giving the type of shape to produce. In one dimension,
these shapes are all equivalent.</p></td>
    </tr>
    <tr>
      <th>binary</th>
      <td><p>If <code>FALSE</code>, the value of the kernel at each point
represents the proportion of the array element within the shape. If
<code>TRUE</code>, these values are binarised to be 1 if at least half of the
element is within the shape, and 0 otherwise.</p></td>
    </tr>
    <tr>
      <th>normalised</th>
      <td><p>If <code>TRUE</code>, the sum of non-missing elements of the
kernel will be unity. Note that this is the default for
<code>gaussianKernel</code>, but not for <code>shapeKernel</code>.</p></td>
    </tr>
    <tr>
      <th>sigma</th>
      <td><p>A numeric vector giving the standard deviation of the
underlying Gaussian distribution in each dimension, in array elements.
Does not need to be equal for all dimensions. Will be recycled to length
<code>dim</code> if that parameter is also specified.</p></td>
    </tr>
    <tr>
      <th>size</th>
      <td><p>A numeric vector giving the width of the kernel in each
dimension, which will be rounded up to the nearest odd integer. Defaults
to four times the corresponding <code>sigma</code> value.</p></td>
    </tr>
    <tr>
      <th>axis</th>
      <td><p>The axis along which the gradient operator will be applied.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>A string giving the name of the kernel function required.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Parameters for the kernel function.</p></td>
    </tr>
    <tr>
      <th>B, C</th>
      <td><p>Mitchell-Netravali coefficients, each of which must be between 0
and 1.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>For <code>isKernel</code>, <code>isKernelArray</code> and
  <code>isKernelFunction</code>, a logical value. For <code>kernelArray</code>,
  <code>shapeKernel</code>, <code>gaussianKernel</code> and <code>sobelKernel</code>, a kernel
  array. For <code>kernelFunction</code>, <code>boxKernel</code>, <code>triangleKernel</code>,
  <code>mitchellNetravaliKernel</code> and <code>mnKernel</code>, a kernel function.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>There are two forms of kernel used by this package. Kernel arrays, otherwise
known in mathematical morphology as structuring elements, are numeric arrays
with class <code>kernelArray</code>. They are defined on a grid of odd width, and
are used by <code><a href='morph.html'>morph</a></code> and related functions. Kernel functions, by
contrast, are represented in R as a list containing a name and, optionally,
some parameters. The real implementation is in C++. They are defined
everywhere within the support of the kernel, and are used by
<code><a href='resample.html'>resample</a></code> and friends. The key distinction is in whether the
kernel will always be centred exactly on the location of an existing value
in the data (for kernel arrays) or not (for kernel functions).</p>
<p>The <code>kernelArray</code> and <code>kernelFunction</code> functions create objects of
the corresponding classes, while <code>isKernelArray</code> and
<code>isKernelFunction</code> test for them. In addition, <code>isKernel</code> returns
<code>TRUE</code> if its argument is of either kernel class.</p>
<p>The remaining functions generate special-case kernels: <code>shapeKernel</code>
generates arrays with nonzero elements in a box, disc or diamond shape for
use with <code><a href='morphology.html'>morphology</a></code> functions; <code>gaussianKernel</code> generates
Gaussian coefficients and is used by <code><a href='gaussianSmooth.html'>gaussianSmooth</a></code>;
<code>sobelKernel</code> generates the Sobel-Feldman gradient operator, for use by
<code><a href='filters.html'>sobelFilter</a></code>; <code>boxKernel</code> is used for ``nearest
neighbour'' resampling, and <code>triangleKernel</code> for linear, bilinear, etc.
The Mitchell-Netravali kernel, a.k.a. BC-spline, is based on a family of
piecewise-cubic polynomial functions, with support of four times the pixel
separation in each dimension. The default parameters are the ones
recommended by Mitchell and Netravali as a good trade-off between various
artefacts, but other well-known special cases include B=1, C=0 (the cubic
B-spline) and B=0, C=0.5 (the Catmull-Rom spline). <code>mnKernel</code> is a
shorter alias for <code>mitchellNetravaliKernel</code>. Finally, the Lanczos
kernel is a five-lobe windowed sinc function.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>The Mitchell-Netravali kernel is described in the following
  paper.</p>  
<p>D.P. Mitchell &amp; A.N. Netravali (1988). Reconstruction filters in computer
  graphics. Computer Graphics 22(4):221-228.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='morph.html'>morph</a></code> for general application of kernel arrays to
  data, <code><a href='morphology.html'>morphology</a></code> for mathematical morphology functions,
  <code><a href='resample.html'>resample</a></code> for resampling, and <code><a href='gaussianSmooth.html'>gaussianSmooth</a></code>
  for smoothing. Also see <code><a href='sampleKernelFunction.html'>sampleKernelFunction</a></code> for kernel
  sampling and plotting.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Jon Clayden &lt;code@clayden.org&gt;</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <div class="ref-examples sourceCode"><pre class='sourceCode r'><code><span class='r-in'><span class='fu'>shapeKernel</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>,<span class='fl'>5</span><span class='op'>)</span>, type<span class='op'>=</span><span class='st'>"diamond"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1,]    0    0    1    0    0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [2,]    1    1    1    1    1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [3,]    0    0    1    0    0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> attr(,"class")</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "kernelArray" "kernel"     </span>
<span class='r-in'><span class='fu'>gaussianKernel</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.3</span>,<span class='fl'>0.3</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>              [,1]        [,2]         [,3]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1,] 1.471688e-05 0.003806825 1.471688e-05</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [2,] 3.806825e-03 0.984713832 3.806825e-03</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [3,] 1.471688e-05 0.003806825 1.471688e-05</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> attr(,"class")</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "kernelArray" "kernel"     </span>
<span class='r-in'><span class='fu'>mnKernel</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> $name</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "mitchell-netravali"</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> $B</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] 0.3333333</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> $C</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] 0.3333333</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> attr(,"class")</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "kernelFunction" "kernel"        </span>
</code></pre></div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Jon Clayden.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


