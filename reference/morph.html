<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Morph an array with a kernel — morph • mmand</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Morph an array with a kernel — morph" />
<meta property="og:description" content="The morph function applies a kernel to a target array. Optionally,
applying the kernel to a particular array element can be made conditional on
its value, or the number of nonzero immediate neighbours that it has. The
morph function is (S3) generic." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mmand</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jonclayden/mmand/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Morph an array with a kernel</h1>
    <small class="dont-index">Source: <a href='https://github.com/jonclayden/mmand/blob/master/R/morph.R'><code>R/morph.R</code></a></small>
    <div class="hidden name"><code>morph.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>morph</code> function applies a kernel to a target array. Optionally,
applying the kernel to a particular array element can be made conditional on
its value, or the number of nonzero immediate neighbours that it has. The
<code>morph</code> function is (S3) generic.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>morph</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>kernel</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>morph</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>kernel</span>, operator <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"+"</span>, <span class='st'>"-"</span>, <span class='st'>"*"</span>, <span class='st'>"i"</span>, <span class='st'>"1"</span>, <span class='st'>"0"</span>,
  <span class='st'>"=="</span><span class='op'>)</span>, merge <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"sum"</span>, <span class='st'>"min"</span>, <span class='st'>"max"</span>, <span class='st'>"mean"</span>, <span class='st'>"median"</span>, <span class='st'>"all"</span>, <span class='st'>"any"</span><span class='op'>)</span>,
  value <span class='op'>=</span> <span class='cn'>NULL</span>, valueNot <span class='op'>=</span> <span class='cn'>NULL</span>, nNeighbours <span class='op'>=</span> <span class='cn'>NULL</span>,
  nNeighboursNot <span class='op'>=</span> <span class='cn'>NULL</span>, renormalise <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Any object. For the default method, this must be coercible to an
array.</p></td>
    </tr>
    <tr>
      <th>kernel</th>
      <td><p>An object representing the kernel to be applied, which must be
coercible to an array. It must have odd width in all dimensions, but does
not have to be isotropic in size. The kernel's dimensionality may be less
than that of the target array, <code>x</code>. See <code><a href='kernels.html'>kernels</a></code> for
kernel-generating functions.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments to methods.</p></td>
    </tr>
    <tr>
      <th>operator</th>
      <td><p>The operator applied elementwise within the kernel, as a
function of the original image value and the kernel value. Arithmetic
operators are as usual; <code>"i"</code> is the identity operator, where every
value within the kernel will be included as-is; <code>"1"</code> and <code>"0"</code>
include a 1 or 0 for each element within the kernel's nonzero region;
<code>"=="</code> produces a 1 where the image matches the kernel, and 0
elsewhere.</p></td>
    </tr>
    <tr>
      <th>merge</th>
      <td><p>The operator applied to combine the elements into a final value
for the centre pixel. All have their usual meanings.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>An optional vector of values in the target array for which to
apply the kernel. Takes priority over <code>valueNot</code> if both are
specified.</p></td>
    </tr>
    <tr>
      <th>valueNot</th>
      <td><p>An optional vector of values in the target array for which
not to apply the kernel.</p></td>
    </tr>
    <tr>
      <th>nNeighbours</th>
      <td><p>An optional numeric vector giving allowable numbers of
nonzero neighbours (including diagonal neighbours) for array elements
where the kernel will be applied. Takes priority over
<code>nNeighboursNot</code> if both are specified.</p></td>
    </tr>
    <tr>
      <th>nNeighboursNot</th>
      <td><p>An optional numeric vector giving nonallowable numbers
of nonzero neighbours (including diagonal neighbours) for array elements
where the kernel will be applied.</p></td>
    </tr>
    <tr>
      <th>renormalise</th>
      <td><p>If <code>TRUE</code>, the default, and <code>merge</code> is
<code>"sum"</code>, the sum will be renormalised relative to the sum over the
visited part of the kernel. This avoids low-intensity bands around the
edges of a morphed image.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A morphed array with the same dimensions as the original array.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='kernels.html'>kernels</a></code> for kernel-generating functions, and
  <code><a href='morphology.html'>morphology</a></code> for more specific mathematical morphology
  functions. <code><a href='gameOfLife.html'>gameOfLife</a></code> shows how this function can be used
  for non-morphological purposes, in that case to power a cellular
  automaton. See also the <code>kernel</code> and <code>kernapply</code> functions in
  the <code>stats</code> package, particularly if you want to smooth time series.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Jon Clayden &lt;code@clayden.org&gt;</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Jon Clayden.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


